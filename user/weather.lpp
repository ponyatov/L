%{
#include "weather.hpp"
#define TC(X)	{ yylval.c = yytext[0]; 			return X; }
#define TS(X)	{ yylval.s = new string(yytext);	return X; }
%}
%option noyywrap
%option yylineno
S	[\+\-]{0,1}
D	[0-9]+
%%
\"name\"			TS(NAME)
\"dt_txt\"			TS(DT)
\"temp\"			TS(TEMP)
\"humidity\"		TS(HUM)
:					TC(COLON)
{S}{D}				TS(S)
{S}{D}\.{D}			TS(S)
\"[^\"]*\"			TS(S)
\n					{}
.					{}
%%
